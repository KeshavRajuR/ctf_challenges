<?php defined('DS') OR die('No direct access allowed.');

$users = array(
 "admin" => "56c9e034aa4057242b00222eabeacb86"
);

if(isset($_GET['logout'])) {
    $_SESSION['username'] = '';
    header('Location:  ' . $_SERVER['PHP_SELF']);
}

if(isset($_POST['username'])) {
    if($users[$_POST['username']] !== NULL && $users[$_POST['username']] == $_POST['password']) {
  $_SESSION['username'] = $_POST['username'];
  header('Location:  ' . $_SERVER['PHP_SELF']);
    }else {
        //invalid login
  echo "<p>error logging in</p>";
    }
}

echo '<form method="post" action="'.SELF.'">
  <h2>Login</h2>
  <p><label for="username">Username</label> <input type="text" id="username" name="username" value="" /></p>
  <p><label for="password">Password</label> <input type="password" id="password" name="password" value="" /></p>
  <p><input type="submit" name="submit" value="Login" class="button"/></p>
  </form>
  <!--I gave my password(yl51pbx) to a cryptographic function. It gave me a string that is 32 characters long. Just to mess around, I have used the string as the password. Surely nobody is gonna crack it, right? It is 32 characters long. It would take ages for anyone to brute-force it. Hahahaha... Good luck hackers!-->';
exit; 
?>
